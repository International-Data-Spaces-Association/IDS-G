# Message Requirements
| | |
| --- | --- |
| B 042 | An IDS Meta Data Broker must announce the supported IDS Information Model versions for outbound and inbound messages through its Self-Description document. |
| B043 | Both categories from B13 are based on request and response messages:<p> a) Instance of an Request or Notification Message (from Connector to an IDS Meta Data Broker) and an according Response instance (including a possible Rejection Message) (from an IDS Meta Data Broker to a Connector)<p> b) QueryMessage (from a Connector to an IDS Meta Data Broker) and an according ResultMessage or suitable RejectionMessage.|
| B 044 (B15) | Every Message contains a unique messageId (URI). The corresponding ResponseMessages must contain this messageId as a correlationMessage attribute.
| B 045 (B16) | A DescriptionRequestMessage sent to An IDS Meta Data Broker targets at most one of the following IDS entities identified by an URI:<p> a) Connector<p>b) Resource<p>If not provided with an URI a DescriptionRequestMessage has to be interpreted as a Request of a Self Description of the Broker.|
| B 046 (B21) | A QueryMessage send to An IDS Meta Data Broker contains exactly one action:<p> a) Query (one or multiple meta datasets by a query expression) |
| B 047 | An IDS Meta Data Broker must reject messages if they do not conform to the IDS Information Model specifications and should send a proper RejectionMessage in that case. |
| B 048 | If an IDS Meta Data Broker accepts a registration attempt, it must acknowledge it using a MessageProcessedNotification. A MessageProcessedNotification must not be sent if the indexing led to an error. |
| B 049 | Error Handling: An IDS Meta Data Broker must react with Rejection Messages and appropriate error messages as follows:<p> - Message syntax is wrong:<p> idsc:MALFORMED_MESSAGE (for instance: incorrect JSON-LD, incorrect Multipart)<p> - Security Token or other identity or security related claims are wrong/could not be verified: idsc:NOT_AUTHENTICATEDincluding a hint to the first corrupted attribute causing the rejection (e.g. "Invalid DAT." or "DAT attribute does not match requesting hostname.")<p> - Access not granted because any requirement was not met: idsc:NOT_AUTHORIZED including a hint to the first corrupted attribute causing the rejection.<p> - Requested resource does not exist or requester has no permission to this specific resource: idsc:NOT_FOUND<p> - Message Type is not supported: idsc:MESSAGE_TYPE_NOT_SUPPORTED (e.g. for an ParticipantRegisterMsg to an IDS Broker).<p> - Header or Payload use an Information Model version which the Connector can not handle: idsc:VERSION_NOT_SUPPORTED with a list of supported versions.<p> - The Broker faced an unexpected internal error:idsc:INTERNAL_RECIPIENT_ERROR with contact details of the responsible operator. Additional requirements may be specified in the respective Information Model. |
